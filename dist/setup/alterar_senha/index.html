<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- noindex -->
<meta name="robots" content="noindex">
<meta name="robots" content="nofollow">

<title>Implantação Borelli</title>

<!-- Favicons -->
<link rel="icon" sizes="32x32" type="image/png" href="/assets/favicons/favicon-32x32.png">
<link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png?v=1.0" sizes="180x180">
<link rel="manifest" href="/assets/favicons/manifest.json?v=1.0">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

<!-- Icons -->
<link rel="stylesheet" href="/assets/icons/bootstrap/bootstrap-icons.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">

<!-- Bootstrap Css -->
<link rel="stylesheet" href="/assets/bootstrap/bootstrap.min.css">

<!-- Vendor CSS -->
<link rel="stylesheet" href="/assets/vendor/animista.css">
<link rel="stylesheet" href="/assets/vendor/bootstrap-select/bootstrap-select.min.css">
<link rel="stylesheet" href="/assets/vendor/bootstrap-select/bootstrap-select-custom.css">
<link rel="stylesheet" href="/assets/vendor/dataTables/dataTables.bootstrap5.min.css">
<link rel="stylesheet" href="/assets/vendor/fancybox/fancybox.css">

<!-- App CSS -->
<!-- <link rel="stylesheet" href="/assets/css/styles.css"> -->

<!-- Libs Js -->
<script src="/assets/libs/jquery.min.js"></script>

<!-- Bootstrap Js -->
<script src="/assets/bootstrap/bootstrap.bundle.min.js"></script>

<!-- Vendor JS -->
<script src="/assets/vendor/bootstrap-select/bootstrap-select.min.js"></script>
<script src="/assets/vendor/bootstrap-select/i18n/defaults-pt_BR.min.js"></script>
<script src="/assets/vendor/dataTables/jquery.dataTables.min.js"></script>
<script src="/assets/vendor/dataTables/dataTables.bootstrap5.min.js"></script>
<script src="/assets/vendor/fancybox/fancybox.umd.js"></script>
<script src="/assets/vendor/jquery.floatThead.min.js"></script>
<script src="/assets/vendor/purify.min.js"></script>

<!-- App JS -->
<script defer src="/assets/js/main.js"></script>
    <link rel="stylesheet" href="/_astro/index.D0M4PUiO.css">
<style>#message{position:relative;padding:.5rem;margin-top:.5rem;font-size:.9rem;border-radius:.75rem;background:#f8f8f8}.valid:before,.invalid:before{position:relative;margin-right:.3rem;left:0;font-family:bootstrap-icons!important;line-height:1;vertical-align:-.125em}.valid:before{content:""}.invalid:before{content:""}.valid{color:#1abc9c}.invalid{color:#f65f6e}.check-msg-current-new,.check-msg-new-confirm{display:none;padding:.15rem;margin-bottom:.5rem;text-align:center;color:#fff;border-radius:.75rem}.check-msg-current-new{background-color:#deb333}.check-msg-new-confirm{background-color:#f65f6e}.progress{height:3px!important}.bg-success{background-color:#1abc9c!important}
</style></head>

    <body class="body-popup">
        <form method="POST" id="" action="" data-js="form">
            <style>
    .btn-showPass {
        position: absolute;
        top: 50%;
        right: 0.7rem;
        transform: translateY(-50%);
    }
</style>

    <section class="container">
        <div class="pt-4 slide-in-left">
            <section class="card">
                <div class="mx-3 py-3 rounded bg-app-green-500 text-center" style="margin-top: -2rem;">
                    <h2 class="mb-0 text-white">Implantação Borelli</h2>
                </div>

                <div class="card-body">
                    <h4>Redefinir Senha</h4>

                    <div class="text-start">
                        <p class="mb-0">Nome: Alex Macedo</p>
                        <p>Email: alex.macedo@gelatoborelli.com</p>
                    </div>

                    <form data-js="form" method="POST" action="processos.asp">
                        <div class="mb-2">
                            <label class="position-relative">
                                <input type="password" name="senha_atual" class="form-control py-2" placeholder="senha atual" autocomplete="false" required="">

                                <span class="btn-showPass" data-bs-toggle="tooltip" data-bs-title="mostrar/esconder senha">
                                    <i class="bi bi-lock"></i>
                                </span>
                            </label>

                            <label>
                                <input type="password" name="senha_nova" class="form-control py-2" placeholder="nova senha" autocomplete="false" required="" data-js="newPass">

                                <span class="btn-showPass" data-bs-toggle="tooltip" data-bs-title="mostrar/esconder senha">
                                    <i class="bi bi-lock"></i>
                                </span>
                            </label>

                            <label>
                                <input type="password" name="senha_confirmacao" class="form-control py-2" placeholder="confirme a nova senha" autocomplete="false" required="" data-js="newPassConfirm">

                                <span class="btn-showPass" data-bs-toggle="tooltip" data-bs-title="mostrar/esconder senha">
                                    <i class="bi bi-lock"></i>
                                </span>
                            </label>

                            <small class="check-msg-new-confirm">Senhas diferentes!</small>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 py-2 mb-3" data-button="submit">Enviar</button>
                        <input type="hidden" id="token" name="token" value="eca2b567-941a-4e9b-b3d2-2cecc8f80528">
                    </form>

                    <div class="progress mb-2">
                        <div data-progress="pass-strength" class="progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                        </div>
                    </div>

                    <div id="message" class="text-start mb-3">
                        <b>Requisitos de senha:</b>
                        <p data-valid="lowerCase" class="mb-0 invalid">1 letra minúscula</p>
                        <p data-valid="upperCase" class="mb-0 invalid">1 letra maiúscula</p>
                        <p data-valid="number" class="mb-0 invalid">1 número</p>
                        <p data-valid="length" class="mb-0 invalid">Mínimo de 8 caracteres</p>
                    </div>
                </div>
            </section>
        </div><!-- .container-form -->
    </section><!-- .container -->
        </form>

        <script>
    /*! --------------------------------------------------------------------
    * mostra senha
    * --------------------------------------------------------------------*/
    function btnShowAllPassword() {
        let btnShowAllPassword = document.querySelectorAll(".btn-showPass");

        if (btnShowAllPassword) {
            btnShowAllPassword.forEach((item) => {
                item.addEventListener("click", () => {
                    item.children[0].classList.toggle("bi-unlock");
                    const inputPass = item.parentNode.children[0];
                    const type =
                        inputPass.getAttribute("type") === "password" ? "text" : "password";
                    inputPass.setAttribute("type", type);
                });
            });
        }
    }

    btnShowAllPassword()


    /* ////////////////////////////////////////////////////////////////////
    *
    *  validPassword
    *  v2.4 - 07 Jul 2023
    *  Dev: Rogerio Saraceni
    *
    * //////////////////////////////////////////////////////////////////// */

    /*! --------------------------------------------------------------------
    * variables
    * --------------------------------------------------------------------*/
    const form = document.querySelector('[data-js="form"]');
    const checkMsgCurrentNew = document.querySelector(".check-msg-current-new");
    const checkMsgNewConfirm = document.querySelector(".check-msg-new-confirm");
    const currentPass = document.querySelector('[data-js="currentPass"]');
    const newPass = document.querySelector('[data-js="newPass"]');
    const newPassConfirm = document.querySelector('[data-js="newPassConfirm"]');
    const lowerCase = document.querySelector('[data-valid="lowerCase"]');
    const upperCase = document.querySelector('[data-valid="upperCase"]');
    const number = document.querySelector('[data-valid="number"]');
    const length = document.querySelector('[data-valid="length"]');
    const submitButton = document.querySelector('[data-button="submit"]');

    let passwordStrength = document.querySelector(
        '[data-progress="pass-strength"]'
    );

    /*! --------------------------------------------------------------------
    * captura de digitacao
    * --------------------------------------------------------------------*/
    if (newPass) {
        newPass.onkeyup = () => {
            /*! --------------------------------------------------------------------
            * regras para forÃ§a da senha
            * --------------------------------------------------------------------*/
            let strength = 0;

            const validations = [
                { regex: /[a-z]/g, element: lowerCase },
                { regex: /[A-Z]/g, element: upperCase },
                { regex: /[0-9]/g, element: number },
                { regex: /.{8,}/g, element: length },
            ];

            validations.forEach((validation) => {
                if (newPass.value.match(validation.regex)) {
                    strength += 1;
                    validation.element.classList.remove("invalid");
                    validation.element.classList.add("valid");
                } else {
                    validation.element.classList.remove("valid");
                    validation.element.classList.add("invalid");
                }
            });

            /*! --------------------------------------------------------------------
            * barra de progresso
            * --------------------------------------------------------------------*/
            const strengthActions = [
                { class: "", width: "0%" },
                { class: "bg-success", width: "25%" },
                { class: "bg-success", width: "50%" },
                { class: "bg-success", width: "75%" },
                { class: "bg-success", width: "100%" },
            ];
            const action = strengthActions[strength] || strengthActions[0];
            const { class: strengthClass, width } = action;
            passwordStrength.classList.toggle(
                "bg-success",
                strengthClass === "bg-success"
            );
            passwordStrength.style.width = width;

            /*! --------------------------------------------------------------------
            * VerificaÃ§Ã£o final da forÃ§a da senha p/ submeter form
            * --------------------------------------------------------------------*/
            strength === 4
                ? (submitButton.disabled = false)
                : (submitButton.disabled = true);
        };
    }

    /*! --------------------------------------------------------------------
    * Bloqueia espaÃ§o nos campos de senha / Bloqueia copiar e colar
    * --------------------------------------------------------------------*/
    const noSpace = (e) => {
        if (e.key === " ") {
            e.preventDefault();
            alert("Não é permitido espaços nos campos de senha!");
        }
    };
    const noPaste = (e) => {
        e.preventDefault();
        alert("Não é permitido copiar e colar nos campos de senha!");
    };

    document.querySelectorAll('input[type="password"]').forEach((item) => {
        item.addEventListener("keypress", (e) => noSpace(e));
        item.addEventListener("paste", (e) => noPaste(e));
    });

    /*! --------------------------------------------------------------------
    * compara atual com nova / nova com comfirmada
    * --------------------------------------------------------------------*/
    form?.addEventListener("submit", (e) => {
        if (currentPass) {
            if (currentPass.value === newPass.value) {
                e.preventDefault();
                checkMsgCurrentNew.style.display = "block";
            } else {
                checkMsgCurrentNew.style.display = "none";
            }
        }

        if (newPass.value !== newPassConfirm.value) {
            e.preventDefault();
            checkMsgNewConfirm.style.display = "block";
        } else {
            checkMsgNewConfirm.style.display = "none";
        }
    });
</script>

        <!--
        <script is:inline src="./_assets/btnShowPassword.js"></script>
        <script is:inline src="./_assets/validPassword.js"></script>
        -->
    </body></html>